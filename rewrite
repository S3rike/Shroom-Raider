from auxilliary_functions import *
from assets.final_state import game_over_text

class Game:
    def __init__(self, file):
        self.file = file
        self.map = list()
        self.player_coords = [0, 0]
        self.player_held_item = None
        self.hidden_objects = dict()
        self.mushroom_count = {'total': 0, 'collected': 0}
        self.game_state = {'pickup':False, 'holding':False, 'game_over':False, 'move':1}
        self.tile = {'prev':'', 'curr':'', 'next':''}
        self.continue_game = True
    def play_game(self):
        self.fetch_map()
        while self.continue_game:
            ...
            self.continue_game = self.restart()
        return None

    def restart(self):
        while True:
            choice = instruct_input("Play again? (Y/N): ").strip().upper()
            if choice == 'Y':
                bool_check = True
                break
            elif choice == 'N':
                bool_check = False
                break
            else:
                pass
        if bool_check:
            self.fetch_map(self.source) 
            return True
        else:
            return False

    def fetch_map(self):
        ...
    def display(self):
        clear_screen()
        print("\n--- Current Map ---\n")
        for row in self.map:
            emoji_display = [tile_ui.get(tile, tile) for tile in row]
            print("".join(emoji_display))
        print("---------------------")
    def menu(self):
        ...
    def show_game_over(self):
        ...

def choose_map():
    while True: 
        map_name = instruct_input("Enter path of map (etc. Map1): ")
        file_name = f"maps/{map_name}.txt"
        if check_existing_file(file_name):
            clear_screen()
            return open(file_name, 'rt')          
        else:
            clear_screen()
            print(f"File not found, try again")

if __name__ == "__main__":
    ...
